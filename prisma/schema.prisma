generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Vendor {
  id          String    @id
  title       String    @db.VarChar(255)
  description String
  slug        String    @unique @db.VarChar(255)
  createdAt   DateTime  @default(now()) @db.Timestamp(6)
  image       String    @db.VarChar(255)
  userId      String
  Service     Service[]
}

model Service {
  id                  String                @id
  title               String                @db.VarChar(255)
  slug                String                @unique @db.VarChar(255)
  description         String
  image               String                @db.VarChar(255)
  createdAt           DateTime              @default(now()) @db.Timestamp(6)
  externalUrl         String                @db.VarChar(255)
  readMe              String
  script              String
  port                String?               @db.VarChar(255)
  vendorId            String?
  scriptV2            Json?
  validationUrl       String?               @db.VarChar(255)
  password            String?               @db.VarChar(255)
  EnvironmentVariable EnvironmentVariable[]
  Vendor              Vendor?               @relation(fields: [vendorId], references: [id])
}

model EnvironmentVariable {
  id        String   @id
  key       String   @db.VarChar(255)
  value     String
  createdAt DateTime @default(now()) @db.Timestamp(6)
  serviceId String?
  Service   Service? @relation(fields: [serviceId], references: [id])
}
